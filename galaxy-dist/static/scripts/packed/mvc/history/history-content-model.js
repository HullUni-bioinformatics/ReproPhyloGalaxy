define(["mvc/dataset/states","mvc/base-mvc","utils/localization"],function(a,b,c){var f=function e(h,i){return[h,i].join("-")};var d={defaults:{history_id:null,history_content_type:null,hid:null,visible:true},idAttribute:"type_id",constructor:function(i,h){i.type_id=f(i.history_content_type,i.id);this.debug("HistoryContentMixin.constructor:",i.type_id);Backbone.Model.apply(this,arguments)},_typeIdStr:function(){return f(this.get("history_content_type"),this.get("id"))},initialize:function(i,h){this.on("change:id",this._createTypeId)},_createTypeId:function(){this.set("type_id",this._typeIdStr())},hidden:function(){return !this.get("visible")},isVisible:function(i,j){var h=true;if((!i)&&(this.get("deleted")||this.get("purged"))){h=false}if((!j)&&(!this.get("visible"))){h=false}return h},urlRoot:galaxy_config.root+"api/histories/",url:function(){var h=this.urlRoot+this.get("history_id")+"/contents/"+this.get("history_content_type")+"s/"+this.get("id");return h},hide:function(h){if(!this.get("visible")){return jQuery.when()}return this.save({visible:false},h)},unhide:function(h){if(this.get("visible")){return jQuery.when()}return this.save({visible:true},h)},toString:function(){var h=this.get("id")||"";if(this.get("name")){h=this.get("hid")+' :"'+this.get("name")+'",'+h}return"HistoryContent("+h+")"}};var g=Backbone.Model.extend(b.LoggableMixin).extend(d);return{typeIdStr:f,HistoryContentMixin:d,HistoryContent:g}});